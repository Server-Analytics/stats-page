<div class="flex btw align-center">
    <div class="flex align-center">
        <div class="top-stats-button" onclick="displayModal('members-tab_timerangeModal');">
            <i class="fas fa-history"></i> <span id="members-tab_timerangeIndicatorButton">...</span> <i class="fas fa-chevron-down"></i>
        </div>
    </div>
    <div class="flex icon-button-container align-center">
        <div class="top-stats-button icon-button d-sm-none" onclick="displayModal('coming_soon_modal');"><i class="fas fa-bezier-curve"></i></div>
        <div class="top-stats-button icon-button d-sm-none" onclick="displayModal('coming_soon_modal');"><i class="fas fa-palette"></i></div>
        <div class="top-stats-button icon-button d-lg-none" onclick="displayModal('coming_soon_modal');"><i class="fas fa-folder-plus"></i></div>
    </div>
</div>

<div class="w-100p flex wrap align-center">

    <div class="w-100p flex mobile-wrap">
        <!-- Graph 1 (Members) -->
        <div class="stats-box large col-lg-8 col-xs-12">
            <div class="col-lg-9 col-xs-12">

                <canvas id="chartMembersTabMessages" width="100%"></canvas>
                <script>
                    drawChart("chartMembersTabMessages", {
                        "datasets": {
                            labels: DATAS_statsDatas.readableDate.slice(),
                            datasets: [{
                                label: 'Membres',
                                data: DATAS_statsDatas.members.slice(),
                                backgroundColor: 'rgba(114,137,218,0.4)',
                                borderColor: '#4a64b8',
                                borderWidth: 1
                            }]
                        },
                        options: {
                            beginAtZero: false
                        },
                        "externalDatas": {
                            timestamps: DATAS_statsDatas.date.slice(),
                            processMethod: "set"
                        }
                    });
                </script>
            </div>
            <div class="stats-info col-lg-3 d-sm-none">
                <div class="flex align-center primary-stats">
                    <h1 class="font-family-arial" data-stats-id="members-tab" data-stats-method="set" data-stats-type="members">...</h1>
                </div>
                <h4 class="font-family-arial">Membres</h4>
                <div class="flex align-center secondary-stats">
                    <h3 class="font-family-arial" data-stats-method="comparison-indicator-text" data-stats-id="members-tab" data-stats-type="members">
                        <span class="indicator equal">=</span> ...
                    </h3>
                    <h5><i class="fas fa-user-alt"></i></h5>
                </div>
                <h5 class="font-family-arial" data-stats-type="stats-text-indicator">Membres en {indicator}</h5>
            </div>
            <div class="stats-info-mobile d-lg-none col-xs-12 flex">
                <div class="primary-stats">
                    <h3 class="no-break font-family-arial" data-stats-id="members-tab" data-stats-method="set" data-stats-type="members">...</h3>
                    <h5 class="font-family-arial">Membres</h5>
                </div>
                <div class="separator"></div>
                <div class="secondary-stats">
                    <h3 class="no-break font-family-arial" data-stats-id="members-tab" data-stats-method="average-simpleIndicator" data-stats-type="members">...</h3>
                    <h5 class="font-family-arial" data-stats-method="average-indicator-text">De {indicator} qu'en moyenne</h5>
                </div>
            </div>
        </div>

        <!-- Stats #2 - Mentions/Pings -->
        <div class="stats-box right small col-lg-4 col-xs-12 flex box-center">
            <div class="head d-sm-none">
                <h4><i class="fas fa-at"></i> Mentions / Pings</h4>
            </div>
            <div class="body">
                <div class="flex wrap center">
                    <div class="flex center w-100p text align-center d-sm-none">
                        <h1 data-stats-id="members-tab" data-stats-method="total" data-stats-type="mentions">75 621</h1>
                        <h2><i class="fas fa-at"></i></h2>
                    </div>
                    <div class="flex center w-100p d-lg-none align-center">
                        <h2 data-stats-id="members-tab" data-stats-method="total" data-stats-type="mentions">75 621</h2>
                        <h4><i class="fas fa-at"></i></h4>
                    </div>
                    <h4>Mentions envoyées</h4>
                    <h5 class="moyenne">
                        <span data-stats-id="members-tab" data-stats-method="average-chevron-text" data-stats-type="mentions">
                            <i class="fas fa-chevron-up"></i> <strong>...</strong>
                        </span>
                    </h5>
                </div>
            </div>
        </div>
    </div>

    <!-- Second stats line -->
    <div class="w-100p flex mobile-wrap">
        <!-- Small: doughnut joins vs leaves -->
        <div class="stats-box small col-lg-4 col-xs-12 static tip-overflow-visible">
            <div class="head static">

                <div class="flex btw w-100p">
                    <h4><i class="fas fa-users"></i> Membres Actifs</h4>
                    <div class="hover-tooltip display-on-left">
                        <h4><i class="color-grey fas fa-question-circle"></i></h4>
                        <span class="hover-tooltiptext">Membres ayant envoyés plus d'un message sur la période sélectionnée</span>
                    </div>
                </div>

            </div>
            <div class="flex center">
                <div class="body flex center">
                    <canvas id="chartMembersTabInOut" width="80%"></canvas>
                    <script>
                        drawPieChart("chartMembersTabInOut", {
                            "datasets": {
                                labels: ['Membres Humains', 'Bots Discord'],
                                datasets: [{
                                    label: 'Membres',
                                    data: [36, 2],
                                    backgroundColor: ["#5b78da", "#3f56a0"],
                                    borderColor: ["#5b78da", "#3f56a0"],
                                    hoverColor: ["#3f56a0", "#5b78da"],
                                    borderWidth: 1
                                }]
                            },
                            options: {
                                type: "doughnut"
                            }
                        });
                    </script>
                </div>
            </div>
        </div>

        <!-- Large: members-tab member line chart -->
        <div class="stats-box large right col-lg-8 col-xs-12">
            <div class="col-lg-9 col-xs-12">

                <canvas id="chartMembersTabMembers" width="100%"></canvas>
                <script>
                    drawChart("chartMembersTabMembers", {
                        datasets: {
                            labels: DATAS_statsDatas.readableDate.slice(),
                            datasets: [{
                                label: 'Membres',
                                data: DATAS_statsDatas.members.slice(),
                                backgroundColor: 'rgba(114,137,218,0.4)',
                                borderColor: '#4a64b8',
                                borderWidth: 1
                            }]
                        },
                        options: {
                            beginAtZero: false
                        },
                        "externalDatas": {
                            timestamps: DATAS_statsDatas.date),
                        processMethod: "set"
                    }
                    });
                </script>
            </div>
            <div class="stats-info col-lg-3 d-sm-none">
                <div class="flex align-center primary-stats">
                    <h1 class="font-family-arial" data-stats-id="members-tab" data-stats-method="set" data-stats-type="members">...</h1>
                </div>
                <h4 class="font-family-arial">Membres</h4>
                <div class="flex align-center secondary-stats">
                    <h3 class="font-family-arial" data-stats-method="comparison-indicator-text" data-stats-id="members-tab" data-stats-type="members">
                        <span class="indicator equal">=</span> ...
                    </h3>
                    <h5><i class="fas fa-user-alt"></i></h5>
                </div>
                <h5 class="font-family-arial" data-stats-type="stats-text-indicator">Membres en {indicator}</h5>
            </div>
            <div class="stats-info-mobile d-lg-none col-xs-12 flex">
                <div class="primary-stats">
                    <h3 class="no-break font-family-arial" data-stats-id="members-tab" data-stats-method="set" data-stats-type="members">...</h3>
                    <h5 class="font-family-arial">Membres</h5>
                </div>
                <div class="separator"></div>
                <div class="secondary-stats">
                    <h3 class="no-break font-family-arial" data-stats-id="members-tab" data-stats-method="average-simpleIndicator" data-stats-type="members">...</h3>
                    <h5 class="font-family-arial" data-stats-method="average-indicator-text">De {indicator} qu'en moyenne</h5>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Thrid stats line -->
<div class="w-100p flex mobile-wrap">
    <!-- Large: voice_time line graph -->
    <div class="stats-box large col-lg-8 col-xs-12">
        <div class="col-lg-9 col-xs-12">

            <canvas id="chartMembersTabVoice" width="100%"></canvas>
            <script>
                drawChart("chartMembersTabVoice", {
                    "datasets": {
                        labels: DATAS_statsDatas.readableDate.slice(),
                        datasets: [{
                            label: 'Temps en vocal',
                            data: DATAS_statsDatas.voice_time.slice(),
                            backgroundColor: 'rgba(114,137,218,0.4)',
                            borderColor: '#4a64b8',
                            borderWidth: 1
                        }],
                    },
                    "settings": {
                        hover - tooltip: {
                            label: ": {label}",
                            formula: "time"
                        },
                        yAxis: {
                            label: ": {label}",
                            formula: "time"
                        }
                    },
                    "externalDatas": {
                        timestamps: DATAS_statsDatas.date.slice(),
                        processMethod: "sum"
                    }
                });
            </script>
        </div>
        <div class="stats-info col-lg-3 d-sm-none">
            <div class="flex align-center primary-stats">
                <h1 class="font-family-arial" data-stats-id="members-tab" data-stats-method="total" data-stats-format="time" data-stats-type="voice_time">...</h1>
            </div>
            <h4 class="font-family-arial">Temps vocal</h4>
            <div class="flex align-center secondary-stats">
                <h3 class="font-family-arial" data-stats-method="average-indicator-text" data-stats-id="members-tab" data-stats-type="voice_time" data-stats-format="time">...</h3>
                <h5><i class="fas fa-microphone"></i></h5>
            </div>
            <h5 class="font-family-arial" data-stats-type="stats-text-indicator">De {indicator} qu'en moyenne</h5>
        </div>
        <div class="stats-info-mobile d-lg-none col-xs-12 flex">
            <div class="primary-stats">
                <h3 class="no-break font-family-arial">99 999</h3>
                <h5 class="font-family-arial">Messages</h5>
            </div>
            <div class="separator"></div>
            <div class="secondary-stats">
                <h3 class="no-break font-family-arial">+ 18 999</h3>
                <h5 class="font-family-arial">De plus qu'en moyenne</h5>
            </div>
        </div>
    </div>

    <!-- Stats #2 - Mentions/Pings -->
    <div class="stats-box right small col-lg-4 col-xs-12 flex box-center box center">
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <!-- square_responsive_ad -->
        <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-2548566032630877" data-ad-slot="3986853067" data-ad-format="auto" data-full-width-responsive="true"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </div>
</div>
</div>

<!-- Modals -->
<div id="members-tab_timerangeModal" class="modal-element-container">
    <div class="flex line-center">
        <div class="modal-element col-lg-5 col-sm-10 col-xs-11 hide-scrollbar">
            <div class="modal-element-header flex align-center btw">
                <div>
                    <h4 class="title">Plage de données</h4>
                </div>
                <div>
                    <h3 class="cancel-button" onclick="closeModal('members-tab_timerangeModal');">&times;</h3>
                </div>
            </div>
            <div class="modal-element-body" id="members-tab_timespampModal">
            </div>
        </div>
    </div>
</div>

<script>
    overwriteStats("members-tab");
</script>